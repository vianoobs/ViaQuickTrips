{"version":3,"file":"saveViaRoutes.js","sourceRoot":"","sources":["saveViaRoutes.ts"],"names":[],"mappings":";;;;;AAAA,8EAAsD;AACtD,MAAM,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;AACrC,MAAM,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;AAGvC,MAAM,UAAU,GAAG,WAAW,CAAC,EAAE;IAC7B,OAAO;QACH,KAAK,EAAE,WAAW,CAAC,KAAK;QACxB,IAAI,EAAE,WAAW,CAAC,IAAI;QACtB,OAAO,EAAE,WAAW,CAAC,OAAO;KAC/B,CAAA;AACL,CAAC,CAAC;AAEF,MAAM,UAAU,GAAG,GAAG,CAAC,EAAE;IACrB,+CAA+C;IAC/C,GAAG,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;QACtC,uBAAa,CAAC,iBAAiB,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;QACtD,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;IACpB,CAAC,CAAC,CAAC;IAEH,qBAAqB;IACrB,GAAG,CAAC,GAAG,CAAC,kBAAkB,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;QACrC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC5B,KAAK,CAAC,IAAI,CAAC,EAAC,KAAK,EAAE,GAAG,CAAC,IAAI,CAAC,KAAK,EAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;YAClD,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE;YACb,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAA;QACtB,CAAC,CAAC,CAAA;IACN,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,kBAAe,UAAU,CAAC","sourcesContent":["import routeServices from '../Services/routeServices';\nconst mongoose = require('mongoose');\nconst Route = mongoose.model('routes');\n\n\nconst bodyParams = requestBody => {\n    return {\n        owner: requestBody.owner,\n        name: requestBody.name,\n        address: requestBody.address\n    }\n};\n\nconst saveRoutes = app => {\n    // save search history upon starting navigation\n    app.post(\"/api/save-search\", (req, res) => {\n        routeServices.saveSearchedRoute(bodyParams(req.body));\n        res.send(\"done\")\n    });\n\n    // get search history\n    app.get(\"/api/show-search\", (req, res) => {\n        console.log(req.body.owner);\n        Route.find({owner: req.body.owner}).then(dbResponse => {\n            res.send(dbResponse);\n        }).catch(error => {\n            console.log(error)\n        })\n    });\n};\nexport default saveRoutes;"]}